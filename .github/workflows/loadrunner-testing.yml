name: learn-loadrunner-action
run-name: ${{ github.actor}} is learning loadrunner action
on:
    push:
        branches:
            - main
    pull_request:
        branches:
            - main
    schedule:
        - cron: "0 0 * * 1-5" # every midnight every day Mon-Fri
jobs:
    run-loadrunner-script:
        runs-on: self-hosted
        name: Start a load test
        steps:
            - name: Run test in LoadRunner Cloud
              uses: MicroFocus/lrc-gh-action@v1
              id: lrc_run_test
              env:
                  LRC_CLIENT_ID: ${{ secrets.LRC_CLIENT_ID }}
                  LRC_CLIENT_SECRET: ${{ secrets.LRC_CLIENT_SECRET }}
              with:
                  lrc_server: "https://loadrunner-cloud.saas.microfocus.com"
                  lrc_tenant: "756449080"
                  lrc_project: "1"
                  lrc_test_id: "1"
